<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@wireapp/core-crypto</title><meta name="description" content="Documentation for @wireapp/core-crypto"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">@wireapp/core-crypto</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@wireapp/core-crypto</h1></div><div class="tsd-panel tsd-typography"><h1 id="wire-corecrypto" class="tsd-anchor-link">Wire CoreCrypto<a href="#wire-corecrypto" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://wire.com/jobs/"><img src="https://github.com/wireapp/wire/blob/master/assets/header-small.png?raw=true" alt="Wire logo"></a></p>
<p>This repository is part of the source code of Wire. You can find more information at <a href="https://wire.com">wire.com</a> or by contacting <a href="mailto:opensource@wire.com">opensource@wire.com</a>.</p>
<p>You can find the published source code at <a href="https://github.com/wireapp/wire">github.com/wireapp/wire</a>.</p>
<p>For licensing information, see the attached LICENSE file and the list of third-party licenses at <a href="https://wire.com/legal/licenses/">wire.com/legal/licenses/</a>.</p>
<p>No license is granted to the Wire trademark and its associated logos, all of which will continue to be owned exclusively by Wire Swiss GmbH. Any use of the Wire trademark and/or its associated logos is expressly prohibited without the express prior written consent of Wire Swiss GmbH.</p>
<h2 id="parts" class="tsd-anchor-link">Parts<a href="#parts" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>CoreCrypto: Abstracts MLS &amp; Proteus in a unified API</li>
<li>CoreCryptoFFI: FFI bindings for iOS, Android and WASM</li>
<li>Keystore: Encrypted Keystore powered by SQLCipher on all platforms except WASM. WASM uses an IndexedDB-backed, encrypted store with AES256-GCM</li>
<li>MlsProvider: RustCrypto + Keystore MLS provider</li>
</ul>
<p>See <a href="media/ARCHITECTURE.md">ARCHITECTURE.md</a></p>
<h2 id="usage" class="tsd-anchor-link">Usage<a href="#usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="api-docs" class="tsd-anchor-link"><a href="https://wireapp.github.io/core-crypto/core_crypto/">API Docs</a><a href="#api-docs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h2 id="building" class="tsd-anchor-link">Building<a href="#building" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="general-requirements" class="tsd-anchor-link">General Requirements<a href="#general-requirements" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>rust: <a href="https://www.rust-lang.org/tools/install">https://www.rust-lang.org/tools/install</a></li>
<li>cargo-make: <a href="https://sagiegurari.github.io/cargo-make/">https://sagiegurari.github.io/cargo-make/</a></li>
</ul>
<p>If you're using macOS, you'll also need to install GNU sed:</p>
<pre><code class="ignore">brew install gnu-sed
</code><button type="button">Copy</button></pre>

<p>and add an alias to your shell configuration file: <code>alias sed=gsed</code> (e.g. to <code>~/.zshenv</code> if you're using zsh).</p>
<h3 id="development-requirements" class="tsd-anchor-link">Development Requirements<a href="#development-requirements" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="pre-commit" class="tsd-anchor-link">Pre-commit<a href="#pre-commit" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>Install the <a href="https://pre-commit.com/"><code>pre-commit</code> framework</a></li>
<li>Run <code>pre-commit install</code> to initialize the pre-commit hooks</li>
</ul>
<h3 id="android" class="tsd-anchor-link">Android<a href="#android" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Install Android SDK and Build-Tools for API level 30+</p>
<div class="tsd-alert tsd-alert-important"><div class="tsd-alert-title"><svg width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><use href="assets/icons.svg#icon-alertImportant"></use></svg><span>Important</span></div><p>
If you are building on macOS you'll need to setup <code>$ANDROID_SDK_ROOT</code> path variable manually:</p>
<pre><code class="ignore">export ANDROID_SDK_ROOT=~/Android/Sdk
</code><button type="button">Copy</button></pre>

</div>
<p>Install android rust targets:</p>
<pre><code class="ignore">rustup target add x86_64-linux-android aarch64-linux-android armv7-linux-androideabi
</code><button type="button">Copy</button></pre>

<p>Build:</p>
<pre><code class="ignore">cd crypto-ffi
cargo make android
cd bindings
./gradlew android:build
</code><button type="button">Copy</button></pre>

<h3 id="ios" class="tsd-anchor-link">iOS<a href="#ios" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Install Xcode &amp; its command-line tools: <a href="https://developer.apple.com/xcode/">https://developer.apple.com/xcode/</a>.</p>
<p>Install iOS rust targets:</p>
<pre><code class="ignore">rustup target add aarch64-apple-ios x86_64-apple-ios aarch64-apple-ios-sim
</code><button type="button">Copy</button></pre>

<p>Build:</p>
<pre><code class="ignore">cd crypto-ffi
cargo make ios
# Additionally, if you want to export a .XCFramework:
cargo make ios-create-xcframework
</code><button type="button">Copy</button></pre>

<h3 id="macos" class="tsd-anchor-link">MacOS<a href="#macos" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Install macOS rust targets:</p>
<pre><code class="ignore">rustup target add x86_64-apple-darwin aarch64-apple-darwin
</code><button type="button">Copy</button></pre>

<h3 id="linux" class="tsd-anchor-link">Linux<a href="#linux" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-alert tsd-alert-note"><div class="tsd-alert-title"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><use href="assets/icons.svg#icon-alertNote"></use></svg><span>Note</span></div><p>
If cross-compiling from macOS, you'll need to install
<a href="https://github.com/messense/homebrew-macos-cross-toolchains">https://github.com/messense/homebrew-macos-cross-toolchains</a>.</p>
</div>
<p>Install Linux targets:</p>
<pre><code class="ignore">rustup target add x86_64-unknown-linux-gnu
</code><button type="button">Copy</button></pre>

<h3 id="wasm" class="tsd-anchor-link">WASM<a href="#wasm" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Make sure you have all prerequisites:</p>
<ul>
<li>Install <a href="https://rustwasm.github.io/wasm-pack/">wasm-pack</a></li>
<li>Install the <code>wasm32-unknown-unknown</code> toolchain: <code>rustup target add wasm32-unknown-unknown</code></li>
<li>Install node.js (recommended way is via <a href="https://volta.sh/">Volta</a>)</li>
<li>Install Bun (follow the instructions on <a href="https://bun.sh/">Bun's website</a>)</li>
</ul>
<p>Build:</p>
<pre><code class="ignore">cd crypto-ffi
cargo make wasm
</code><button type="button">Copy</button></pre>

<h3 id="bindings" class="tsd-anchor-link">Bindings<a href="#bindings" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Build bindings for Android, JVM, iOS and WASM</p>
<pre><code class="ignore">cd crypto-ffi

# builds bindings and targets for the JVM (macOS / Linux)
cargo make jvm

# builds bindings and targets for Android
cargo make android

# builds iOS framework
cargo make ios-create-xcframework

# builds wasm binary & TS bindings
cargo make wasm
</code><button type="button">Copy</button></pre>

<h2 id="testing" class="tsd-anchor-link">Testing<a href="#testing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="general-testing" class="tsd-anchor-link">General testing<a href="#general-testing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ignore"># Install cargo-nextest if you haven't done so, it yields some substantial speedup
cargo install cargo-nextest
cargo nextest run
</code><button type="button">Copy</button></pre>

<h3 id="run-core-crypto-internal-tests-on-wasm-target" class="tsd-anchor-link">Run core crypto internal tests on WASM target<a href="#run-core-crypto-internal-tests-on-wasm-target" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If you haven't already, install the target and wasm-pack:</p>
<pre><code class="sh"><span class="hl-0">rustup</span><span class="hl-1"> </span><span class="hl-2">target</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">wasm32-unknown-unknown</span><br/><span class="hl-0">cargo</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">wasm-pack</span>
</code><button type="button">Copy</button></pre>

<p>If you want to test for chrome, <a href="https://getwebdriver.com/chromedriver">get chromedriver</a> or the webdriver for the
browser you want to test for, respectively.</p>
<p>Then, to run tests for a crate in the workspace do</p>
<pre><code class="ignore">wasm-pack test --headless --chrome ./<crate-folder-to-test>
</code><button type="button">Copy</button></pre>

<h4 id="addendum-testing-all-ciphersuites" class="tsd-anchor-link">Addendum: testing all ciphersuites<a href="#addendum-testing-all-ciphersuites" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><div class="tsd-alert tsd-alert-warning"><div class="tsd-alert-title"><svg width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><use href="assets/icons.svg#icon-alertWarning"></use></svg><span>Warning</span></div><p>
This takes quite a while.</p>
</div>
<pre><code class="ignore">cargo nextest run --features test-all-cipher
</code><button type="button">Copy</button></pre>

<h3 id="platform-specific-tests-for-kotlinjvm" class="tsd-anchor-link">Platform-specific tests for Kotlin/JVM<a href="#platform-specific-tests-for-kotlinjvm" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Build the JVM target every timee the Rust code changes:</p>
<pre><code class="sh"><span class="hl-3"># substitute with `jvm-darwin` on OSX</span><br/><span class="hl-0">core-crypto/crypto-ffi$</span><span class="hl-1"> </span><span class="hl-2">cargo</span><span class="hl-1"> </span><span class="hl-2">make</span><span class="hl-1"> </span><span class="hl-2">jvm-linux</span>
</code><button type="button">Copy</button></pre>

<p>Then run the tests each time the wrapper or wrapper tests change</p>
<pre><code class="sh"><span class="hl-0">core-crypto/crypto-ffi/bindings$</span><span class="hl-1"> </span><span class="hl-2">./gradlew</span><span class="hl-1"> </span><span class="hl-2">jvm:build</span><span class="hl-1"> </span><span class="hl-4">-x</span><span class="hl-1"> </span><span class="hl-2">lint</span><span class="hl-1"> </span><span class="hl-4">-x</span><span class="hl-1"> </span><span class="hl-2">lintRelease</span>
</code><button type="button">Copy</button></pre>

<h3 id="platform-specific-tests-for-android" class="tsd-anchor-link">Platform-specific tests for Android<a href="#platform-specific-tests-for-android" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Build the Android target every timee the Rust code changes:</p>
<pre><code class="sh"><span class="hl-0">core-crypto/crypto-ffi$</span><span class="hl-1"> </span><span class="hl-2">cargo</span><span class="hl-1"> </span><span class="hl-2">make</span><span class="hl-1"> </span><span class="hl-2">android</span>
</code><button type="button">Copy</button></pre>

<p>Then run the tests each time the wrapper or wrapper tests change</p>
<pre><code class="sh"><span class="hl-0">core-crypto/crypto-ffi/bindings$</span><span class="hl-1"> </span><span class="hl-2">./gradlew</span><span class="hl-1"> </span><span class="hl-2">android:build</span><span class="hl-1"> </span><span class="hl-4">-x</span><span class="hl-1"> </span><span class="hl-2">lint</span><span class="hl-1"> </span><span class="hl-4">-x</span><span class="hl-1"> </span><span class="hl-2">lintRelease</span>
</code><button type="button">Copy</button></pre>

<h3 id="swiftios" class="tsd-anchor-link">Swift/iOS<a href="#swiftios" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><em>No E2E testing is available as of now on Swift.</em></p>
<h3 id="platform-spcecific-tests-for-wasmweb" class="tsd-anchor-link">Platform-spcecific tests for WASM/Web<a href="#platform-spcecific-tests-for-wasmweb" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Install TS dependencies on first go, and each time they change:</p>
<pre><code class="sh"><span class="hl-0">bun</span><span class="hl-1"> </span><span class="hl-2">install</span>
</code><button type="button">Copy</button></pre>

<p>Build the WASM target every timee the Rust code changes:</p>
<pre><code class="sh"><span class="hl-0">core-crypto/crypto-ffi$</span><span class="hl-1"> </span><span class="hl-2">cargo</span><span class="hl-1"> </span><span class="hl-2">make</span><span class="hl-1"> </span><span class="hl-2">wasm</span>
</code><button type="button">Copy</button></pre>

<p>Then run the tests each time the wrapper or wrapper tests change</p>
<pre><code class="sh"><span class="hl-0">core-crypto/crypto-ffi$</span><span class="hl-1"> </span><span class="hl-2">bun</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">test</span>
</code><button type="button">Copy</button></pre>

<p>Note that CI will fail if it doesn't like your formatting. This can typically be automtically adjusted with</p>
<pre><code class="sh"><span class="hl-0">core-crypto/crypto-ffi$</span><span class="hl-1"> </span><span class="hl-2">bun</span><span class="hl-1"> </span><span class="hl-2">eslinst</span><span class="hl-1"> </span><span class="hl-2">bindings/js</span><span class="hl-1"> </span><span class="hl-4">--max-warnings=0</span><span class="hl-1"> </span><span class="hl-4">--fix</span>
</code><button type="button">Copy</button></pre>

<h2 id="benchmarks" class="tsd-anchor-link">Benchmarks<a href="#benchmarks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>There are benches implemented in <a href="crypto/benches/"><code>crypto/benches</code></a> for several operations on mls groups with varying sizes or proteus.
Parameters like minimum or maximum group sizes and step sizes are defined in <a href="media/mod.rs"><code>crypto/benches/utils/mod.rs</code></a>.</p>
<h3 id="executing-benches" class="tsd-anchor-link">Executing Benches<a href="#executing-benches" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To execute the benches, e.g. for creating commits, run</p>
<pre><code class="bash"><span class="hl-0">cargo</span><span class="hl-1"> </span><span class="hl-2">bench</span><span class="hl-1"> </span><span class="hl-4">--bench=commit</span><span class="hl-1"> </span><span class="hl-4">--</span><span class="hl-1"> </span><span class="hl-4">--quick</span>
</code><button type="button">Copy</button></pre>

<p>where <code>commit</code> is the name of the bench specified in <a href="media/Cargo.toml"><code>crypto/Cargo.toml</code></a>, and the corresponding file in <a href="crypto/benches/"><code>crypto/benches</code></a>.
In case you're interested in higher accuracy, and willing to trade it for execution speed, omit the <code>--quick</code> flag.
If you need reporting plots, remove the <code>.without_plots()</code> call in  <a href="media/mod.rs"><code>crypto/benches/utils/mod.rs</code></a>.
The reports generated by criterion will be located in <code>target/criterion</code>.</p>
<h2 id="git-workflow" class="tsd-anchor-link">Git workflow<a href="#git-workflow" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>The <code>main</code> branch is used as the everyday development branch.</li>
<li>No merge commits. Always rebase on top of <code>main</code>.</li>
<li>Release branches are named <code>release/&lt;series&gt;</code>, e.g. <code>release/1.x</code>, <code>release/2.x</code>.</li>
<li>Release branches contain fixes relevant to their specific release series and are never merged to <code>main</code>.</li>
<li>Release branches always branch off their first major release tag. For example,
the output of <code>git merge-base main release/2.x</code> must be a commit pointed to by tag <code>v2.0.0</code>.</li>
<li>Release branches are created lazily, that is, only when the first fix needs to be applied and released
for a specific release series.</li>
<li>Use <a href="https://www.conventionalcommits.org/en/v1.0.0/">conventional commits</a> -- those are picked up by the changelog generator.</li>
<li>If there is a JIRA ticket related to the change, you should mention it in either the PR title or the commit(s),
with the following format: <code>[TICKET_ID]</code>.</li>
<li>Sign your <a href="https://docs.github.com/en/authentication/managing-commit-signature-verification/signing-commits">commits</a>
and <a href="https://docs.github.com/en/authentication/managing-commit-signature-verification/signing-tags">tags</a>.</li>
<li>Remove branches from the remote once you don't need them anymore.</li>
</ul>
<h2 id="publishing" class="tsd-anchor-link">Publishing<a href="#publishing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="versioning" class="tsd-anchor-link">Versioning<a href="#versioning" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The versioning scheme used is <a href="https://semver.org">SemVer AKA Semantic Versioning</a>.</p>
<h3 id="making-a-new-release" class="tsd-anchor-link">Making a new release<a href="#making-a-new-release" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ol>
<li>Make a branch based on <code>main</code> to prepare for release (<code>git checkout -b prepare-release/X.Y.Z</code>)</li>
<li>Run <code>sh scripts/update-versions.sh X.Y.Z</code> to update the versions of
<ul>
<li>all workspace member crates</li>
<li><code>package.json</code></li>
<li><code>crypto-ffi/bindings/gradle.properties</code>
Make sure the result of the script run is correct.</li>
</ul>
</li>
<li>Generate the relevant changelog section:<pre><code class="bash"><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-2">cliff</span><span class="hl-1"> </span><span class="hl-4">--bump</span><span class="hl-1"> </span><span class="hl-4">--unreleased</span>
</code><button type="button">Copy</button></pre>

and add it to the top of <code>CHANGELOG.md</code>.
Make sure the version number generated by <code>git cliff</code> matches the release version.</li>
<li>If there are any release highlights, add them as the first subsection below release title:<pre><code class="markdown">## v1.0.2 - 2024-08-16

### Highlights

- foo
- bar
- baz
</code><button type="button">Copy</button></pre>

</li>
<li>Make sure the changes look reasonable and complete; you can use the previous release as a reference</li>
<li>Push your <code>prepare-release/X.Y.Z</code> branch and create a PR for it</li>
<li>Get it reviewed, then merge it into <code>main</code> and remove the <code>prepare-release/X.Y.Z</code> branch from the remote</li>
<li>Now, pull your local <code>main</code>: <code>git checkout main &amp;&amp; git pull</code></li>
<li>Create the release tag: <code>git tag -s vX.Y.Z</code></li>
<li>Push the new tag: <code>git push origin tag vX.Y.Z</code></li>
<li>Create a new release on github, copying the relevant section from <code>CHANGELOG.md</code></li>
<li>Voil√†!</li>
</ol>
<h3 id="publishing-android--jvm-bindings" class="tsd-anchor-link">Publishing Android / JVM bindings<a href="#publishing-android--jvm-bindings" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Publishing Android / JVM bindings happens automatically by a github workflow when a release tag is pushed.</p>
<p>If you would like to publish the bindings to a local maven cache, run:</p>
<pre><code class="ignore">cd crypto-ffi/bindings/android
./gradlew :jvm:publishToMavenLocal
./gradlew :android:publishToMavenLocal
</code><button type="button">Copy</button></pre>

<h3 id="publishing-js--wasm-bindings" class="tsd-anchor-link">Publishing JS / WASM bindings<a href="#publishing-js--wasm-bindings" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Publishing JS / WASM bindings happens automatically by a github workflow when a release tag is pushed.</p>
<p>If you would like to publish to <code>@wireapp/core-crypto</code> manually, log into NPM and
just run <code>bun publish</code>.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#wire-corecrypto"><span>Wire <wbr/>Core<wbr/>Crypto</span></a><ul><li><a href="#parts"><span>Parts</span></a></li><li><a href="#usage"><span>Usage</span></a></li><li><ul><li><a href="#api-docs"><span>API <wbr/>Docs</span></a></li></ul></li><li><a href="#building"><span>Building</span></a></li><li><ul><li><a href="#general-requirements"><span>General <wbr/>Requirements</span></a></li><li><a href="#development-requirements"><span>Development <wbr/>Requirements</span></a></li><li><ul><li><a href="#pre-commit"><span>Pre-<wbr/>commit</span></a></li></ul></li><li><a href="#android"><span>Android</span></a></li><li><a href="#ios"><span>iOS</span></a></li><li><a href="#macos"><span>MacOS</span></a></li><li><a href="#linux"><span>Linux</span></a></li><li><a href="#wasm"><span>WASM</span></a></li><li><a href="#bindings"><span>Bindings</span></a></li></ul></li><li><a href="#testing"><span>Testing</span></a></li><li><ul><li><a href="#general-testing"><span>General testing</span></a></li><li><a href="#run-core-crypto-internal-tests-on-wasm-target"><span>Run core crypto internal tests on WASM target</span></a></li><li><ul><li><a href="#addendum-testing-all-ciphersuites"><span>Addendum: testing all ciphersuites</span></a></li></ul></li><li><a href="#platform-specific-tests-for-kotlinjvm"><span>Platform-<wbr/>specific tests for <wbr/>Kotlin/JVM</span></a></li><li><a href="#platform-specific-tests-for-android"><span>Platform-<wbr/>specific tests for <wbr/>Android</span></a></li><li><a href="#swiftios"><span>Swift/iOS</span></a></li><li><a href="#platform-spcecific-tests-for-wasmweb"><span>Platform-<wbr/>spcecific tests for WASM/<wbr/>Web</span></a></li></ul></li><li><a href="#benchmarks"><span>Benchmarks</span></a></li><li><ul><li><a href="#executing-benches"><span>Executing <wbr/>Benches</span></a></li></ul></li><li><a href="#git-workflow"><span>Git workflow</span></a></li><li><a href="#publishing"><span>Publishing</span></a></li><li><ul><li><a href="#versioning"><span>Versioning</span></a></li><li><a href="#making-a-new-release"><span>Making a new release</span></a></li><li><a href="#publishing-android--jvm-bindings"><span>Publishing <wbr/>Android / JVM bindings</span></a></li><li><a href="#publishing-js--wasm-bindings"><span>Publishing JS / WASM bindings</span></a></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">@wireapp/core-crypto</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
