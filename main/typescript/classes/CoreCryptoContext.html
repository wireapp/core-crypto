<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>CoreCryptoContext | @wireapp/core-crypto</title><meta name="description" content="Documentation for @wireapp/core-crypto"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">@wireapp/core-crypto</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">CoreCryptoContext</a></li></ul><h1>Class CoreCryptoContext</h1></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L44">src/CoreCryptoContext.ts:44</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h5 class="tsd-index-heading uppercase">Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="#addclientstoconversation" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>add<wbr/>Clients<wbr/>To<wbr/>Conversation</span></a>
<a href="#addcredential" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>add<wbr/>Credential</span></a>
<a href="#clientpublickey" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>client<wbr/>Public<wbr/>Key</span></a>
<a href="#commitpendingproposals" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>commit<wbr/>Pending<wbr/>Proposals</span></a>
<a href="#conversationciphersuite" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>conversation<wbr/>Ciphersuite</span></a>
<a href="#conversationepoch" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>conversation<wbr/>Epoch</span></a>
<a href="#conversationexists" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>conversation<wbr/>Exists</span></a>
<a href="#createconversation" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>Conversation</span></a>
<a href="#decryptmessage" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>decrypt<wbr/>Message</span></a>
<a href="#disablehistorysharing" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>disable<wbr/>History<wbr/>Sharing</span></a>
<a href="#e2eiconversationstate" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>Conversation<wbr/>State</span></a>
<a href="#e2eienrollmentstash" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>Enrollment<wbr/>Stash</span></a>
<a href="#e2eienrollmentstashpop" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>Enrollment<wbr/>Stash<wbr/>Pop</span></a>
<a href="#e2eiisenabled" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>Is<wbr/>Enabled</span></a>
<a href="#e2eiispkienvsetup" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>Is<wbr/>PKI<wbr/>Env<wbr/>Setup</span></a>
<a href="#e2eimlsinitonly" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>Mls<wbr/>Init<wbr/>Only</span></a>
<a href="#e2einewactivationenrollment" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>New<wbr/>Activation<wbr/>Enrollment</span></a>
<a href="#e2einewenrollment" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>New<wbr/>Enrollment</span></a>
<a href="#e2einewrotateenrollment" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>New<wbr/>Rotate<wbr/>Enrollment</span></a>
<a href="#e2eiregisteracmeca" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>Register<wbr/>Acme<wbr/>CA</span></a>
<a href="#e2eiregistercrl" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>Register<wbr/>CRL</span></a>
<a href="#e2eiregisterintermediateca" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>Register<wbr/>Intermediate<wbr/>CA</span></a>
<a href="#e2eirotate" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>Rotate</span></a>
<a href="#enablehistorysharing" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>enable<wbr/>History<wbr/>Sharing</span></a>
<a href="#encryptmessage" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>encrypt<wbr/>Message</span></a>
<a href="#exportsecretkey" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>export<wbr/>Secret<wbr/>Key</span></a>
<a href="#findcredentials" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>find<wbr/>Credentials</span></a>
<a href="#generatekeypackage" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>generate<wbr/>Keypackage</span></a>
<a href="#getclientids" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Client<wbr/>Ids</span></a>
<a href="#getcredentials" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Credentials</span></a>
<a href="#getdata" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Data</span></a>
<a href="#getdeviceidentities" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Device<wbr/>Identities</span></a>
<a href="#getexternalsender" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>External<wbr/>Sender</span></a>
<a href="#getkeypackages" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Keypackages</span></a>
<a href="#getuseridentities" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>User<wbr/>Identities</span></a>
<a href="#joinbyexternalcommit" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>join<wbr/>By<wbr/>External<wbr/>Commit</span></a>
<a href="#markconversationaschildof" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>mark<wbr/>Conversation<wbr/>As<wbr/>Child<wbr/>Of</span></a>
<a href="#mlsinit" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>mls<wbr/>Init</span></a>
<a href="#processwelcomemessage" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>process<wbr/>Welcome<wbr/>Message</span></a>
<a href="#proteusdecrypt" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Decrypt</span></a>
<a href="#proteusencrypt" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Encrypt</span></a>
<a href="#proteusencryptbatched" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Encrypt<wbr/>Batched</span></a>
<a href="#proteusfingerprint" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Fingerprint</span></a>
<a href="#proteusfingerprintlocal" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Fingerprint<wbr/>Local</span></a>
<a href="#proteusfingerprintremote" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Fingerprint<wbr/>Remote</span></a>
<a href="#proteusinit" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Init</span></a>
<a href="#proteuslastresortprekey" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Last<wbr/>Resort<wbr/>Prekey</span></a>
<a href="#proteusnewprekey" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>New<wbr/>Prekey</span></a>
<a href="#proteusnewprekeyauto" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>New<wbr/>Prekey<wbr/>Auto</span></a>
<a href="#proteussessiondelete" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Session<wbr/>Delete</span></a>
<a href="#proteussessionexists" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Session<wbr/>Exists</span></a>
<a href="#proteussessionfrommessage" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Session<wbr/>From<wbr/>Message</span></a>
<a href="#proteussessionfromprekey" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Session<wbr/>From<wbr/>Prekey</span></a>
<a href="#proteussessionsave" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Session<wbr/>Save</span></a>
<a href="#randombytes" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>random<wbr/>Bytes</span></a>
<a href="#removeclientsfromconversation" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>remove<wbr/>Clients<wbr/>From<wbr/>Conversation</span></a>
<a href="#removecredential" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>remove<wbr/>Credential</span></a>
<a href="#removekeypackage" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>remove<wbr/>Keypackage</span></a>
<a href="#removekeypackagesfor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>remove<wbr/>Keypackages<wbr/>For</span></a>
<a href="#savex509credential" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>save<wbr/>X509<wbr/>Credential</span></a>
<a href="#setdata" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>set<wbr/>Data</span></a>
<a href="#updatekeyingmaterial" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>update<wbr/>Keying<wbr/>Material</span></a>
<a href="#wipeconversation" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>wipe<wbr/>Conversation</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Methods</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="addclientstoconversation"><span>add<wbr/>Clients<wbr/>To<wbr/>Conversation</span><a href="#addclientstoconversation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="addclientstoconversation-1"><span class="tsd-kind-call-signature">addClientsToConversation</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">conversationId</span><span class="tsd-signature-symbol">:</span> <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">keyPackages</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/NewCrlDistributionPoints.html" class="tsd-signature-type tsd-kind-type-alias">NewCrlDistributionPoints</a><span class="tsd-signature-symbol">&gt;</span><a href="#addclientstoconversation-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Adds new clients to a conversation, assuming the current client has the right to add new clients to the conversation.</p>
<p>Sends the corresponding commit via <a href="../interfaces/MlsTransport.html#sendcommitbundle" class="tsd-kind-property">MlsTransport.sendCommitBundle</a> and merges it if the call is successful.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">conversationId</span>: <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a></span><div class="tsd-comment tsd-typography"><p>The ID of the conversation</p>
</div></li><li><span><span class="tsd-kind-parameter">keyPackages</span>: <span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>KeyPackages of the new clients to add</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/NewCrlDistributionPoints.html" class="tsd-signature-type tsd-kind-type-alias">NewCrlDistributionPoints</a><span class="tsd-signature-symbol">&gt;</span></h4><p>Potentially a list of newly discovered crl distribution points</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L280">src/CoreCryptoContext.ts:280</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="addcredential"><span>add<wbr/>Credential</span><a href="#addcredential" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="addcredential-1"><span class="tsd-kind-call-signature">addCredential</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">credential</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/CredentialInterface.html" class="tsd-signature-type tsd-kind-interface">CredentialInterface</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/CredentialRefInterface.html" class="tsd-signature-type tsd-kind-interface">CredentialRefInterface</a><span class="tsd-signature-symbol">&gt;</span><a href="#addcredential-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Add a credential to this instance, persisting it.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">credential</span>: <a href="../interfaces/CredentialInterface.html" class="tsd-signature-type tsd-kind-interface">CredentialInterface</a></span><div class="tsd-comment tsd-typography"><p>the credential to add</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/CredentialRefInterface.html" class="tsd-signature-type tsd-kind-interface">CredentialRefInterface</a><span class="tsd-signature-symbol">&gt;</span></h4><p>a reference to the added credential</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L937">src/CoreCryptoContext.ts:937</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="clientpublickey"><span>client<wbr/>Public<wbr/>Key</span><a href="#clientpublickey" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="clientpublickey-1"><span class="tsd-kind-call-signature">clientPublicKey</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">ciphersuite</span><span class="tsd-signature-symbol">:</span> <a href="../enums/Ciphersuite.html" class="tsd-signature-type tsd-kind-enum">Ciphersuite</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">credentialType</span><span class="tsd-signature-symbol">:</span> <a href="../enums/CredentialType.html" class="tsd-signature-type tsd-kind-enum">CredentialType</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">&gt;</span><a href="#clientpublickey-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get the client's public signature key. To upload to the DS for further backend side validation</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">ciphersuite</span>: <a href="../enums/Ciphersuite.html" class="tsd-signature-type tsd-kind-enum">Ciphersuite</a></span><div class="tsd-comment tsd-typography"><p>of the signature key to get</p>
</div></li><li><span><span class="tsd-kind-parameter">credentialType</span>: <a href="../enums/CredentialType.html" class="tsd-signature-type tsd-kind-enum">CredentialType</a></span><div class="tsd-comment tsd-typography"><p>of the public key to look for</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">&gt;</span></h4><p>the client's public signature key</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L261">src/CoreCryptoContext.ts:261</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="commitpendingproposals"><span>commit<wbr/>Pending<wbr/>Proposals</span><a href="#commitpendingproposals" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="commitpendingproposals-1"><span class="tsd-kind-call-signature">commitPendingProposals</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">conversationId</span><span class="tsd-signature-symbol">:</span> <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#commitpendingproposals-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Commits the local pending proposals.</p>
<p>Sends the corresponding commit via <a href="../interfaces/MlsTransport.html#sendcommitbundle" class="tsd-kind-property">MlsTransport.sendCommitBundle</a>
and merges it if the call is successful.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">conversationId</span>: <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a></span><div class="tsd-comment tsd-typography"><p>The ID of the conversation</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L325">src/CoreCryptoContext.ts:325</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="conversationciphersuite"><span>conversation<wbr/>Ciphersuite</span><a href="#conversationciphersuite" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="conversationciphersuite-1"><span class="tsd-kind-call-signature">conversationCiphersuite</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">conversationId</span><span class="tsd-signature-symbol">:</span> <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../enums/Ciphersuite.html" class="tsd-signature-type tsd-kind-enum">Ciphersuite</a><span class="tsd-signature-symbol">&gt;</span><a href="#conversationciphersuite-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns the ciphersuite of a conversation</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">conversationId</span>: <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../enums/Ciphersuite.html" class="tsd-signature-type tsd-kind-enum">Ciphersuite</a><span class="tsd-signature-symbol">&gt;</span></h4><p>the ciphersuite of the conversation</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L152">src/CoreCryptoContext.ts:152</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="conversationepoch"><span>conversation<wbr/>Epoch</span><a href="#conversationepoch" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="conversationepoch-1"><span class="tsd-kind-call-signature">conversationEpoch</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">conversationId</span><span class="tsd-signature-symbol">:</span> <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span><a href="#conversationepoch-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns the current epoch of a conversation</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">conversationId</span>: <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4><p>the epoch of the conversation</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-0"> </span><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-2">cc</span><span class="hl-0"> = </span><span class="hl-3">await</span><span class="hl-0"> </span><span class="hl-4">CoreCrypto</span><span class="hl-0">.</span><span class="hl-5">init</span><span class="hl-0">({ </span><span class="hl-4">databaseName:</span><span class="hl-0"> </span><span class="hl-6">&quot;test&quot;</span><span class="hl-0">, </span><span class="hl-4">key:</span><span class="hl-0"> </span><span class="hl-6">&quot;test&quot;</span><span class="hl-0">, </span><span class="hl-4">clientId:</span><span class="hl-0"> </span><span class="hl-6">&quot;test&quot;</span><span class="hl-0"> });</span><br/><span class="hl-0"> </span><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-2">encoder</span><span class="hl-0"> = </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">TextEncoder</span><span class="hl-0">();</span><br/><span class="hl-0"> </span><span class="hl-4">console</span><span class="hl-0">.</span><span class="hl-5">log</span><span class="hl-0">(</span><span class="hl-3">await</span><span class="hl-0"> </span><span class="hl-4">cc</span><span class="hl-0">.</span><span class="hl-5">conversationEpoch</span><span class="hl-0">(</span><span class="hl-4">encoder</span><span class="hl-0">.</span><span class="hl-5">encode</span><span class="hl-0">(</span><span class="hl-6">&quot;my super chat&quot;</span><span class="hl-0">)))</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L140">src/CoreCryptoContext.ts:140</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="conversationexists"><span>conversation<wbr/>Exists</span><a href="#conversationexists" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="conversationexists-1"><span class="tsd-kind-call-signature">conversationExists</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">conversationId</span><span class="tsd-signature-symbol">:</span> <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span><a href="#conversationexists-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Checks if the Client is member of a given conversation and if the MLS Group is loaded up</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">conversationId</span>: <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Whether the given conversation ID exists</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-1">Example<a href="#example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-0"> </span><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-2">cc</span><span class="hl-0"> = </span><span class="hl-3">await</span><span class="hl-0"> </span><span class="hl-4">CoreCrypto</span><span class="hl-0">.</span><span class="hl-5">init</span><span class="hl-0">({ </span><span class="hl-4">databaseName:</span><span class="hl-0"> </span><span class="hl-6">&quot;test&quot;</span><span class="hl-0">, </span><span class="hl-4">key:</span><span class="hl-0"> </span><span class="hl-6">&quot;test&quot;</span><span class="hl-0">, </span><span class="hl-4">clientId:</span><span class="hl-0"> </span><span class="hl-6">&quot;test&quot;</span><span class="hl-0"> });</span><br/><span class="hl-0"> </span><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-2">encoder</span><span class="hl-0"> = </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-5">TextEncoder</span><span class="hl-0">();</span><br/><span class="hl-0"> </span><span class="hl-3">if</span><span class="hl-0"> (</span><span class="hl-3">await</span><span class="hl-0"> </span><span class="hl-4">cc</span><span class="hl-0">.</span><span class="hl-5">conversationExists</span><span class="hl-0">(</span><span class="hl-4">encoder</span><span class="hl-0">.</span><span class="hl-5">encode</span><span class="hl-0">(</span><span class="hl-6">&quot;my super chat&quot;</span><span class="hl-0">))) {</span><br/><span class="hl-0">   </span><span class="hl-7">// Do something</span><br/><span class="hl-0"> } </span><span class="hl-3">else</span><span class="hl-0"> {</span><br/><span class="hl-0">   </span><span class="hl-7">// Do something else</span><br/><span class="hl-0"> }</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L106">src/CoreCryptoContext.ts:106</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="createconversation"><span>create<wbr/>Conversation</span><a href="#createconversation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="createconversation-1"><span class="tsd-kind-call-signature">createConversation</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">conversationId</span><span class="tsd-signature-symbol">:</span> <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">credentialRef</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/CredentialRefInterface.html" class="tsd-signature-type tsd-kind-interface">CredentialRefInterface</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">externalSender</span><span class="tsd-signature-symbol">?:</span> <a href="ExternalSenderKey.html" class="tsd-signature-type tsd-kind-class">ExternalSenderKey</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#createconversation-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Creates a new conversation with the current client being the sole member
You will want to use <a href="#addclientstoconversation" class="tsd-kind-method">addClientsToConversation</a> afterwards to add clients to this conversation</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">conversationId</span>: <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a></span><div class="tsd-comment tsd-typography"><p>The conversation ID; You can either make them random or let the backend attribute MLS group IDs</p>
</div></li><li><span><span class="tsd-kind-parameter">credentialRef</span>: <a href="../interfaces/CredentialRefInterface.html" class="tsd-signature-type tsd-kind-interface">CredentialRefInterface</a></span><div class="tsd-comment tsd-typography"><p>ref to the credential the creator wants to create the group with</p>
</div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">externalSender</span>: <a href="ExternalSenderKey.html" class="tsd-signature-type tsd-kind-class">ExternalSenderKey</a></span><div class="tsd-comment tsd-typography"><p>Client ID that is qualified as external senders within the group</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L180">src/CoreCryptoContext.ts:180</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="decryptmessage"><span>decrypt<wbr/>Message</span><a href="#decryptmessage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="decryptmessage-1"><span class="tsd-kind-call-signature">decryptMessage</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">conversationId</span><span class="tsd-signature-symbol">:</span> <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">payload</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/DecryptedMessage.html" class="tsd-signature-type tsd-kind-type-alias">DecryptedMessage</a><span class="tsd-signature-symbol">&gt;</span><a href="#decryptmessage-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Decrypts a message for a given conversation.</p>
<p>Note: you should catch &amp; ignore the following error reasons:</p>
<ul>
<li>&quot;We already decrypted this message once&quot;</li>
<li>&quot;You tried to join with an external commit but did not merge it yet. We will reapply this message for you when you merge your external commit&quot;</li>
<li>&quot;Incoming message is for a future epoch. We will buffer it until the commit for that epoch arrives&quot;</li>
</ul>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">conversationId</span>: <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a></span><div class="tsd-comment tsd-typography"><p>The ID of the conversation</p>
</div></li><li><span><span class="tsd-kind-parameter">payload</span>: <span class="tsd-signature-type">ArrayBuffer</span></span><div class="tsd-comment tsd-typography"><p>The encrypted message buffer</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/DecryptedMessage.html" class="tsd-signature-type tsd-kind-type-alias">DecryptedMessage</a><span class="tsd-signature-symbol">&gt;</span></h4><p>a <a href="../types/DecryptedMessage.html" class="tsd-kind-type-alias">DecryptedMessage</a>. Note that <a href="../types/DecryptedMessage-1.html#message" class="tsd-kind-property">DecryptedMessage#message</a> is <code>undefined</code> when the encrypted payload contains a system message such a proposal or commit</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L207">src/CoreCryptoContext.ts:207</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="disablehistorysharing"><span>disable<wbr/>History<wbr/>Sharing</span><a href="#disablehistorysharing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="disablehistorysharing-1"><span class="tsd-kind-call-signature">disableHistorySharing</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">conversationId</span><span class="tsd-signature-symbol">:</span> <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#disablehistorysharing-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Disable history sharing by removing histroy clients from the conversation.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">conversationId</span>: <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L365">src/CoreCryptoContext.ts:365</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="e2eiconversationstate"><span>e2ei<wbr/>Conversation<wbr/>State</span><a href="#e2eiconversationstate" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="e2eiconversationstate-1"><span class="tsd-kind-call-signature">e2eiConversationState</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">conversationId</span><span class="tsd-signature-symbol">:</span> <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../enums/E2eiConversationState.html" class="tsd-signature-type tsd-kind-enum">E2eiConversationState</a><span class="tsd-signature-symbol">&gt;</span><a href="#e2eiconversationstate-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Indicates when to mark a conversation as not verified i.e. when not all its members have a X509.
Credential generated by Wire's end-to-end identity enrollment</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">conversationId</span>: <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a></span><div class="tsd-comment tsd-typography"><p>The group's ID</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../enums/E2eiConversationState.html" class="tsd-signature-type tsd-kind-enum">E2eiConversationState</a><span class="tsd-signature-symbol">&gt;</span></h4><p>the conversation state given current members</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L874">src/CoreCryptoContext.ts:874</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="e2eienrollmentstash"><span>e2ei<wbr/>Enrollment<wbr/>Stash</span><a href="#e2eienrollmentstash" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="e2eienrollmentstash-1"><span class="tsd-kind-call-signature">e2eiEnrollmentStash</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">enrollment</span><span class="tsd-signature-symbol">:</span> <a href="E2eiEnrollment.html" class="tsd-signature-type tsd-kind-class">E2eiEnrollment</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">&gt;</span><a href="#e2eienrollmentstash-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Allows persisting an active enrollment (for example while redirecting the user during OAuth) in order to resume
it later with <a href="#e2eienrollmentstashpop" class="tsd-kind-method">e2eiEnrollmentStashPop</a></p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">enrollment</span>: <a href="E2eiEnrollment.html" class="tsd-signature-type tsd-kind-class">E2eiEnrollment</a></span><div class="tsd-comment tsd-typography"><p>the enrollment instance to persist</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">&gt;</span></h4><p>a handle to fetch the enrollment later with <a href="#e2eienrollmentstashpop" class="tsd-kind-method">e2eiEnrollmentStashPop</a></p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L846">src/CoreCryptoContext.ts:846</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="e2eienrollmentstashpop"><span>e2ei<wbr/>Enrollment<wbr/>Stash<wbr/>Pop</span><a href="#e2eienrollmentstashpop" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="e2eienrollmentstashpop-1"><span class="tsd-kind-call-signature">e2eiEnrollmentStashPop</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handle</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="E2eiEnrollment.html" class="tsd-signature-type tsd-kind-class">E2eiEnrollment</a><span class="tsd-signature-symbol">&gt;</span><a href="#e2eienrollmentstashpop-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Fetches the persisted enrollment and deletes it from the keystore</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">handle</span>: <span class="tsd-signature-type">ArrayBuffer</span></span><div class="tsd-comment tsd-typography"><p>returned by <a href="#e2eienrollmentstash" class="tsd-kind-method">e2eiEnrollmentStash</a></p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="E2eiEnrollment.html" class="tsd-signature-type tsd-kind-class">E2eiEnrollment</a><span class="tsd-signature-symbol">&gt;</span></h4><p>the persisted enrollment instance</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L860">src/CoreCryptoContext.ts:860</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="e2eiisenabled"><span>e2ei<wbr/>Is<wbr/>Enabled</span><a href="#e2eiisenabled" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="e2eiisenabled-1"><span class="tsd-kind-call-signature">e2eiIsEnabled</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">ciphersuite</span><span class="tsd-signature-symbol">:</span> <a href="../enums/Ciphersuite.html" class="tsd-signature-type tsd-kind-enum">Ciphersuite</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span><a href="#e2eiisenabled-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns true when end-to-end-identity is enabled for the given Ciphersuite</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">ciphersuite</span>: <a href="../enums/Ciphersuite.html" class="tsd-signature-type tsd-kind-enum">Ciphersuite</a></span><div class="tsd-comment tsd-typography"><p>of the credential to check</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4><p>true if end-to-end identity is enabled for the given ciphersuite</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L890">src/CoreCryptoContext.ts:890</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="e2eiispkienvsetup"><span>e2ei<wbr/>Is<wbr/>PKI<wbr/>Env<wbr/>Setup</span><a href="#e2eiispkienvsetup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="e2eiispkienvsetup-1"><span class="tsd-kind-call-signature">e2eiIsPKIEnvSetup</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span><a href="#e2eiispkienvsetup-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4><p>whether the E2EI PKI environment is setup (i.e. Root CA, Intermediates, CRLs)</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L747">src/CoreCryptoContext.ts:747</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="e2eimlsinitonly"><span>e2ei<wbr/>Mls<wbr/>Init<wbr/>Only</span><a href="#e2eimlsinitonly" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="e2eimlsinitonly-1"><span class="tsd-kind-call-signature">e2eiMlsInitOnly</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">enrollment</span><span class="tsd-signature-symbol">:</span> <a href="E2eiEnrollment.html" class="tsd-signature-type tsd-kind-class">E2eiEnrollment</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">certificateChain</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/NewCrlDistributionPoints.html" class="tsd-signature-type tsd-kind-type-alias">NewCrlDistributionPoints</a><span class="tsd-signature-symbol">&gt;</span><a href="#e2eimlsinitonly-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Use this method to initialize end-to-end identity when a client signs up and the grace period is already expired ;
that means he cannot initialize with a Basic credential</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">enrollment</span>: <a href="E2eiEnrollment.html" class="tsd-signature-type tsd-kind-class">E2eiEnrollment</a></span><div class="tsd-comment tsd-typography"><p>the enrollment instance used to fetch the certificates</p>
</div></li><li><span><span class="tsd-kind-parameter">certificateChain</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>the raw response from ACME server</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/NewCrlDistributionPoints.html" class="tsd-signature-type tsd-kind-type-alias">NewCrlDistributionPoints</a><span class="tsd-signature-symbol">&gt;</span></h4><p>a MlsClient initialized with only a x509 credential</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L734">src/CoreCryptoContext.ts:734</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="e2einewactivationenrollment"><span>e2ei<wbr/>New<wbr/>Activation<wbr/>Enrollment</span><a href="#e2einewactivationenrollment" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="e2einewactivationenrollment-1"><span class="tsd-kind-call-signature">e2eiNewActivationEnrollment</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">displayName</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">handle</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">expirySec</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">ciphersuite</span><span class="tsd-signature-symbol">:</span> <a href="../enums/Ciphersuite.html" class="tsd-signature-type tsd-kind-enum">Ciphersuite</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">team</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="E2eiEnrollment.html" class="tsd-signature-type tsd-kind-class">E2eiEnrollment</a><span class="tsd-signature-symbol">&gt;</span><a href="#e2einewactivationenrollment-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Generates an E2EI enrollment instance for a &quot;regular&quot; client (with a Basic credential) willing to migrate to E2EI.
Once the enrollment is finished, use <a href="#e2eirotate" class="tsd-kind-method">CoreCryptoContext.e2eiRotate</a> to do key rotation.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">displayName</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>human-readable name displayed in the application e.g. <code>Smith, Alice M (QA)</code></p>
</div></li><li><span><span class="tsd-kind-parameter">handle</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>user handle e.g. <code>alice.smith.qa@example.com</code></p>
</div></li><li><span><span class="tsd-kind-parameter">expirySec</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>generated x509 certificate expiry</p>
</div></li><li><span><span class="tsd-kind-parameter">ciphersuite</span>: <a href="../enums/Ciphersuite.html" class="tsd-signature-type tsd-kind-enum">Ciphersuite</a></span><div class="tsd-comment tsd-typography"><p>for generating signing key material</p>
</div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">team</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>name of the Wire team a user belongs to</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="E2eiEnrollment.html" class="tsd-signature-type tsd-kind-class">E2eiEnrollment</a><span class="tsd-signature-symbol">&gt;</span></h4><p>The new <a href="E2eiEnrollment.html" class="tsd-kind-class">E2eiEnrollment</a> enrollment instance to use with <a href="#e2eirotate" class="tsd-kind-method">CoreCryptoContext.e2eiRotate</a></p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L674">src/CoreCryptoContext.ts:674</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="e2einewenrollment"><span>e2ei<wbr/>New<wbr/>Enrollment</span><a href="#e2einewenrollment" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="e2einewenrollment-1"><span class="tsd-kind-call-signature">e2eiNewEnrollment</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">clientId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">displayName</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">handle</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">expirySec</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">ciphersuite</span><span class="tsd-signature-symbol">:</span> <a href="../enums/Ciphersuite.html" class="tsd-signature-type tsd-kind-enum">Ciphersuite</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">team</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="E2eiEnrollment.html" class="tsd-signature-type tsd-kind-class">E2eiEnrollment</a><span class="tsd-signature-symbol">&gt;</span><a href="#e2einewenrollment-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Creates an enrollment instance with private key material you can use in order to fetch
a new x509 certificate from the acme server.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">clientId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>client identifier e.g. <code>b7ac11a4-8f01-4527-af88-1c30885a7931:6add501bacd1d90e@example.com</code></p>
</div></li><li><span><span class="tsd-kind-parameter">displayName</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>human-readable name displayed in the application e.g. <code>Smith, Alice M (QA)</code></p>
</div></li><li><span><span class="tsd-kind-parameter">handle</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>user handle e.g. <code>alice.smith.qa@example.com</code></p>
</div></li><li><span><span class="tsd-kind-parameter">expirySec</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>generated x509 certificate expiry</p>
</div></li><li><span><span class="tsd-kind-parameter">ciphersuite</span>: <a href="../enums/Ciphersuite.html" class="tsd-signature-type tsd-kind-enum">Ciphersuite</a></span><div class="tsd-comment tsd-typography"><p>for generating signing key material</p>
</div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">team</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>name of the Wire team a user belongs to</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="E2eiEnrollment.html" class="tsd-signature-type tsd-kind-class">E2eiEnrollment</a><span class="tsd-signature-symbol">&gt;</span></h4><p>The new <a href="E2eiEnrollment.html" class="tsd-kind-class">E2eiEnrollment</a> enrollment instance to use with <a href="#e2eimlsinitonly" class="tsd-kind-method">CoreCryptoContext.e2eiMlsInitOnly</a></p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L642">src/CoreCryptoContext.ts:642</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="e2einewrotateenrollment"><span>e2ei<wbr/>New<wbr/>Rotate<wbr/>Enrollment</span><a href="#e2einewrotateenrollment" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="e2einewrotateenrollment-1"><span class="tsd-kind-call-signature">e2eiNewRotateEnrollment</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">expirySec</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">ciphersuite</span><span class="tsd-signature-symbol">:</span> <a href="../enums/Ciphersuite.html" class="tsd-signature-type tsd-kind-enum">Ciphersuite</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">displayName</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">handle</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">team</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="E2eiEnrollment.html" class="tsd-signature-type tsd-kind-class">E2eiEnrollment</a><span class="tsd-signature-symbol">&gt;</span><a href="#e2einewrotateenrollment-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Generates an E2EI enrollment instance for a E2EI client (with a X509 certificate credential)
having to change/rotate their credential, either because the former one is expired or it
has been revoked. It lets you change the DisplayName or the handle
if you need to. Once the enrollment is finished, use <a href="#e2eirotate" class="tsd-kind-method">CoreCryptoContext.e2eiRotate</a>
to do key rotation.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">expirySec</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>generated x509 certificate expiry</p>
</div></li><li><span><span class="tsd-kind-parameter">ciphersuite</span>: <a href="../enums/Ciphersuite.html" class="tsd-signature-type tsd-kind-enum">Ciphersuite</a></span><div class="tsd-comment tsd-typography"><p>for generating signing key material</p>
</div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">displayName</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>human-readable name displayed in the application e.g. <code>Smith, Alice M (QA)</code></p>
</div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">handle</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>user handle e.g. <code>alice.smith.qa@example.com</code></p>
</div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">team</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>name of the Wire team a user belongs to</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="E2eiEnrollment.html" class="tsd-signature-type tsd-kind-class">E2eiEnrollment</a><span class="tsd-signature-symbol">&gt;</span></h4><p>The new <a href="E2eiEnrollment.html" class="tsd-kind-class">E2eiEnrollment</a> enrollment instance to use with <a href="#e2eirotate" class="tsd-kind-method">CoreCryptoContext.e2eiRotate</a></p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L707">src/CoreCryptoContext.ts:707</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="e2eiregisteracmeca"><span>e2ei<wbr/>Register<wbr/>Acme<wbr/>CA</span><a href="#e2eiregisteracmeca" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="e2eiregisteracmeca-1"><span class="tsd-kind-call-signature">e2eiRegisterAcmeCA</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">trustAnchorPEM</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#e2eiregisteracmeca-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Registers a Root Trust Anchor CA for the use in E2EI processing.</p>
<p>Please note that without a Root Trust Anchor, all validations <em>will</em> fail;
So this is the first step to perform after initializing your E2EI client</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">trustAnchorPEM</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>PEM certificate to anchor as a Trust Root</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L759">src/CoreCryptoContext.ts:759</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="e2eiregistercrl"><span>e2ei<wbr/>Register<wbr/>CRL</span><a href="#e2eiregistercrl" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="e2eiregistercrl-1"><span class="tsd-kind-call-signature">e2eiRegisterCRL</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">crlDP</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">crlDER</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/CRLRegistration.html" class="tsd-signature-type tsd-kind-interface">CRLRegistration</a><span class="tsd-signature-symbol">&gt;</span><a href="#e2eiregistercrl-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Registers a CRL for the use in E2EI processing.</p>
<p>Please note that a Root Trust Anchor CA is needed to validate CRLs;
You <strong>need</strong> to have a Root CA registered before calling this</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">crlDP</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>CRL Distribution Point; Basically the URL you fetched it from</p>
</div></li><li><span><span class="tsd-kind-parameter">crlDER</span>: <span class="tsd-signature-type">ArrayBuffer</span></span><div class="tsd-comment tsd-typography"><p>DER representation of the CRL</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/CRLRegistration.html" class="tsd-signature-type tsd-kind-interface">CRLRegistration</a><span class="tsd-signature-symbol">&gt;</span></h4><p>a <a href="../interfaces/CRLRegistration.html" class="tsd-kind-interface">CRLRegistration</a> with the dirty state of the new CRL (see struct) and its expiration timestamp</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L788">src/CoreCryptoContext.ts:788</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="e2eiregisterintermediateca"><span>e2ei<wbr/>Register<wbr/>Intermediate<wbr/>CA</span><a href="#e2eiregisterintermediateca" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="e2eiregisterintermediateca-1"><span class="tsd-kind-call-signature">e2eiRegisterIntermediateCA</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">certPEM</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/NewCrlDistributionPoints.html" class="tsd-signature-type tsd-kind-type-alias">NewCrlDistributionPoints</a><span class="tsd-signature-symbol">&gt;</span><a href="#e2eiregisterintermediateca-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Registers an Intermediate CA for the use in E2EI processing.</p>
<p>Please note that a Root Trust Anchor CA is needed to validate Intermediate CAs;
You <strong>need</strong> to have a Root CA registered before calling this</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">certPEM</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>PEM certificate to register as an Intermediate CA</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/NewCrlDistributionPoints.html" class="tsd-signature-type tsd-kind-type-alias">NewCrlDistributionPoints</a><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L771">src/CoreCryptoContext.ts:771</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="e2eirotate"><span>e2ei<wbr/>Rotate</span><a href="#e2eirotate" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="e2eirotate-1"><span class="tsd-kind-call-signature">e2eiRotate</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">conversationId</span><span class="tsd-signature-symbol">:</span> <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#e2eirotate-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Creates an update commit which replaces your leaf containing basic credentials with a leaf node containing x509 credentials in the conversation.</p>
<p>NOTE: you can only call this after you've completed the enrollment for an end-to-end identity, and saved the
resulting credential with <a href="#savex509credential" class="tsd-kind-method">CoreCryptoContext.saveX509Credential</a>.
Calling this without a valid end-to-end identity will result in an error.</p>
<p>Sends the corresponding commit via <a href="../interfaces/MlsTransport.html#sendcommitbundle" class="tsd-kind-property">MlsTransport.sendCommitBundle</a> and merges it if the call is successful.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">conversationId</span>: <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a></span><div class="tsd-comment tsd-typography"><p>The ID of the conversation</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L807">src/CoreCryptoContext.ts:807</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="enablehistorysharing"><span>enable<wbr/>History<wbr/>Sharing</span><a href="#enablehistorysharing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="enablehistorysharing-1"><span class="tsd-kind-call-signature">enableHistorySharing</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">conversationId</span><span class="tsd-signature-symbol">:</span> <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#enablehistorysharing-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Enable history sharing by generating a history client and adding it to the conversation.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">conversationId</span>: <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L356">src/CoreCryptoContext.ts:356</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="encryptmessage"><span>encrypt<wbr/>Message</span><a href="#encryptmessage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="encryptmessage-1"><span class="tsd-kind-call-signature">encryptMessage</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">conversationId</span><span class="tsd-signature-symbol">:</span> <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">message</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">&gt;</span><a href="#encryptmessage-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Encrypts a message for a given conversation</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">conversationId</span>: <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a></span><div class="tsd-comment tsd-typography"><p>The ID of the conversation</p>
</div></li><li><span><span class="tsd-kind-parameter">message</span>: <span class="tsd-signature-type">ArrayBuffer</span></span><div class="tsd-comment tsd-typography"><p>The plaintext message to encrypt</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">&gt;</span></h4><p>The encrypted payload for the given group. This needs to be fanned out to the other members of the group.</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L228">src/CoreCryptoContext.ts:228</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="exportsecretkey"><span>export<wbr/>Secret<wbr/>Key</span><a href="#exportsecretkey" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="exportsecretkey-1"><span class="tsd-kind-call-signature">exportSecretKey</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">conversationId</span><span class="tsd-signature-symbol">:</span> <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">keyLength</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/SecretKeyInterface.html" class="tsd-signature-type tsd-kind-interface">SecretKeyInterface</a><span class="tsd-signature-symbol">&gt;</span><a href="#exportsecretkey-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Derives a new key from the group</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">conversationId</span>: <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a></span><div class="tsd-comment tsd-typography"><p>The group's ID</p>
</div></li><li><span><span class="tsd-kind-parameter">keyLength</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>the length of the key to be derived. If the value is higher than the
bounds of <code>u16</code> or the context hash * 255, an error will be returned</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/SecretKeyInterface.html" class="tsd-signature-type tsd-kind-interface">SecretKeyInterface</a><span class="tsd-signature-symbol">&gt;</span></h4><p>A <code>ArrayBuffer</code> representing the derived key</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L380">src/CoreCryptoContext.ts:380</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="findcredentials"><span>find<wbr/>Credentials</span><a href="#findcredentials" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="findcredentials-1"><span class="tsd-kind-call-signature">findCredentials</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">findFilters</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/CredentialFindFilters.html" class="tsd-signature-type tsd-kind-interface">CredentialFindFilters</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/CredentialRefInterface.html" class="tsd-signature-type tsd-kind-interface">CredentialRefInterface</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="#findcredentials-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get those credentials known to this instance which match the provided filters</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">findFilters</span>: <a href="../interfaces/CredentialFindFilters.html" class="tsd-signature-type tsd-kind-interface">CredentialFindFilters</a></span><div class="tsd-comment tsd-typography"><p>a set of filters defining which credentials are of interest.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/CredentialRefInterface.html" class="tsd-signature-type tsd-kind-interface">CredentialRefInterface</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L968">src/CoreCryptoContext.ts:968</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="generatekeypackage"><span>generate<wbr/>Keypackage</span><a href="#generatekeypackage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="generatekeypackage-1"><span class="tsd-kind-call-signature">generateKeypackage</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">credentialRef</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/CredentialRefInterface.html" class="tsd-signature-type tsd-kind-interface">CredentialRefInterface</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">lifetime</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/KeypackageInterface.html" class="tsd-signature-type tsd-kind-interface">KeypackageInterface</a><span class="tsd-signature-symbol">&gt;</span><a href="#generatekeypackage-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Generate a <code>KeyPackage</code> from the referenced credential.</p>
<p>Makes no attempt to look up or prune existing keypackges.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">credentialRef</span>: <a href="../interfaces/CredentialRefInterface.html" class="tsd-signature-type tsd-kind-interface">CredentialRefInterface</a></span><div class="tsd-comment tsd-typography"><p>references the credential to be used as the foundation for this keypackage</p>
</div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">lifetime</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>how long this keypackage is valid for. If unset, approx 3 months. Expressed in milliseconds.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/KeypackageInterface.html" class="tsd-signature-type tsd-kind-interface">KeypackageInterface</a><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L990">src/CoreCryptoContext.ts:990</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="getclientids"><span>get<wbr/>Client<wbr/>Ids</span><a href="#getclientids" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="getclientids-1"><span class="tsd-kind-call-signature">getClientIds</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">conversationId</span><span class="tsd-signature-symbol">:</span> <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/ClientIdInterface.html" class="tsd-signature-type tsd-kind-interface">ClientIdInterface</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="#getclientids-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns all clients from group's members</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">conversationId</span>: <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a></span><div class="tsd-comment tsd-typography"><p>The group's ID</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/ClientIdInterface.html" class="tsd-signature-type tsd-kind-interface">ClientIdInterface</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>A list of clients from the members of the group</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L412">src/CoreCryptoContext.ts:412</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="getcredentials"><span>get<wbr/>Credentials</span><a href="#getcredentials" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="getcredentials-1"><span class="tsd-kind-call-signature">getCredentials</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/CredentialRefInterface.html" class="tsd-signature-type tsd-kind-interface">CredentialRefInterface</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="#getcredentials-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get all credentials known to this instance</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/CredentialRefInterface.html" class="tsd-signature-type tsd-kind-interface">CredentialRefInterface</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L959">src/CoreCryptoContext.ts:959</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="getdata"><span>get<wbr/>Data</span><a href="#getdata" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="getdata-1"><span class="tsd-kind-call-signature">getData</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBuffer</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol">&gt;</span><a href="#getdata-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get data if it has previously been set by <a href="#setdata" class="tsd-kind-method">setData</a>, or <code>undefined</code> otherwise.
This is meant to be used as a check point at the end of a transaction.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBuffer</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L71">src/CoreCryptoContext.ts:71</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="getdeviceidentities"><span>get<wbr/>Device<wbr/>Identities</span><a href="#getdeviceidentities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="getdeviceidentities-1"><span class="tsd-kind-call-signature">getDeviceIdentities</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">conversationId</span><span class="tsd-signature-symbol">:</span> <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">deviceIds</span><span class="tsd-signature-symbol">:</span> <a href="ClientId.html" class="tsd-signature-type tsd-kind-class">ClientId</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/WireIdentity.html" class="tsd-signature-type tsd-kind-type-alias">WireIdentity</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="#getdeviceidentities-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>From a given conversation, get the identity of the members supplied. Identity is only present for members with a
Certificate Credential (after turning on end-to-end identity).</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">conversationId</span>: <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a></span><div class="tsd-comment tsd-typography"><p>identifier of the conversation</p>
</div></li><li><span><span class="tsd-kind-parameter">deviceIds</span>: <a href="ClientId.html" class="tsd-signature-type tsd-kind-class">ClientId</a><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>identifiers of the devices</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/WireIdentity.html" class="tsd-signature-type tsd-kind-type-alias">WireIdentity</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>identities or if no member has a x509 certificate, it will return an empty List</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L904">src/CoreCryptoContext.ts:904</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="getexternalsender"><span>get<wbr/>External<wbr/>Sender</span><a href="#getexternalsender" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="getexternalsender-1"><span class="tsd-kind-call-signature">getExternalSender</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">conversationId</span><span class="tsd-signature-symbol">:</span> <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/ExternalSenderKeyInterface.html" class="tsd-signature-type tsd-kind-interface">ExternalSenderKeyInterface</a><span class="tsd-signature-symbol">&gt;</span><a href="#getexternalsender-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns the raw public key of the single external sender present in this group.
This should be used to initialize a subconversation</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">conversationId</span>: <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a></span><div class="tsd-comment tsd-typography"><p>The group's ID</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/ExternalSenderKeyInterface.html" class="tsd-signature-type tsd-kind-interface">ExternalSenderKeyInterface</a><span class="tsd-signature-symbol">&gt;</span></h4><p>A <code>ArrayBuffer</code> representing the external sender raw public key</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L397">src/CoreCryptoContext.ts:397</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="getkeypackages"><span>get<wbr/>Keypackages</span><a href="#getkeypackages" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="getkeypackages-1"><span class="tsd-kind-call-signature">getKeypackages</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/KeypackageRefInterface.html" class="tsd-signature-type tsd-kind-interface">KeypackageRefInterface</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="#getkeypackages-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get a reference to each <code>KeyPackage</code> in the database.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/KeypackageRefInterface.html" class="tsd-signature-type tsd-kind-interface">KeypackageRefInterface</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L1003">src/CoreCryptoContext.ts:1003</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="getuseridentities"><span>get<wbr/>User<wbr/>Identities</span><a href="#getuseridentities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="getuseridentities-1"><span class="tsd-kind-call-signature">getUserIdentities</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">conversationId</span><span class="tsd-signature-symbol">:</span> <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">userIds</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Map</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <a href="../types/WireIdentity.html" class="tsd-signature-type tsd-kind-type-alias">WireIdentity</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="#getuseridentities-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>From a given conversation, get the identity of the users (device holders) supplied.
Identity is only present for devices with a Certificate Credential (after turning on end-to-end identity).
If no member has a x509 certificate, it will return an empty Vec.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">conversationId</span>: <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a></span><div class="tsd-comment tsd-typography"><p>identifier of the conversation</p>
</div></li><li><span><span class="tsd-kind-parameter">userIds</span>: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>user identifiers hyphenated UUIDv4 e.g. 'bd4c7053-1c5a-4020-9559-cd7bf7961954'</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Map</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <a href="../types/WireIdentity.html" class="tsd-signature-type tsd-kind-type-alias">WireIdentity</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><p>a Map with all the identities for a given users. Consumers are then recommended to reduce those identities to determine the actual status of a user.</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L922">src/CoreCryptoContext.ts:922</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="joinbyexternalcommit"><span>join<wbr/>By<wbr/>External<wbr/>Commit</span><a href="#joinbyexternalcommit" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="joinbyexternalcommit-1"><span class="tsd-kind-call-signature">joinByExternalCommit</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">groupInfo</span><span class="tsd-signature-symbol">:</span> <a href="GroupInfo.html" class="tsd-signature-type tsd-kind-class">GroupInfo</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">credentialRef</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/CredentialRefInterface.html" class="tsd-signature-type tsd-kind-interface">CredentialRefInterface</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/WelcomeBundle.html" class="tsd-signature-type tsd-kind-type-alias">WelcomeBundle</a><span class="tsd-signature-symbol">&gt;</span><a href="#joinbyexternalcommit-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>&quot;Apply&quot; to join a group through its GroupInfo.</p>
<p>Sends the corresponding commit via <a href="../interfaces/MlsTransport.html#sendcommitbundle" class="tsd-kind-property">MlsTransport.sendCommitBundle</a>
and creates the group if the call is successful.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">groupInfo</span>: <a href="GroupInfo.html" class="tsd-signature-type tsd-kind-class">GroupInfo</a></span><div class="tsd-comment tsd-typography"><p>a TLS encoded GroupInfo fetched from the Delivery Service</p>
</div></li><li><span><span class="tsd-kind-parameter">credentialRef</span>: <a href="../interfaces/CredentialRefInterface.html" class="tsd-signature-type tsd-kind-interface">CredentialRefInterface</a></span><div class="tsd-comment tsd-typography"><p>Reference to the credential to use for joining this group.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/WelcomeBundle.html" class="tsd-signature-type tsd-kind-type-alias">WelcomeBundle</a><span class="tsd-signature-symbol">&gt;</span></h4><p>see <a href="../variables/WelcomeBundle.html" class="tsd-kind-variable">WelcomeBundle</a></p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L344">src/CoreCryptoContext.ts:344</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="markconversationaschildof"><span>mark<wbr/>Conversation<wbr/>As<wbr/>Child<wbr/>Of</span><a href="#markconversationaschildof" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="markconversationaschildof-1"><span class="tsd-kind-call-signature">markConversationAsChildOf</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">childId</span><span class="tsd-signature-symbol">:</span> <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">parentId</span><span class="tsd-signature-symbol">:</span> <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#markconversationaschildof-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Marks a conversation as child of another one
This will mostly affect the behavior of the callbacks (the parentConversationClients parameter will be filled)</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">childId</span>: <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a></span><div class="tsd-comment tsd-typography"><p>conversation identifier of the child conversation</p>
</div></li><li><span><span class="tsd-kind-parameter">parentId</span>: <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a></span><div class="tsd-comment tsd-typography"><p>conversation identifier of the parent conversation</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L119">src/CoreCryptoContext.ts:119</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="mlsinit"><span>mls<wbr/>Init</span><a href="#mlsinit" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="mlsinit-1"><span class="tsd-kind-call-signature">mlsInit</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">clientId</span><span class="tsd-signature-symbol">:</span> <a href="ClientId.html" class="tsd-signature-type tsd-kind-class">ClientId</a><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">ciphersuites</span><span class="tsd-signature-symbol">:</span> <a href="../enums/Ciphersuite.html" class="tsd-signature-type tsd-kind-enum">Ciphersuite</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#mlsinit-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Use this after <a href="CoreCrypto.html#init" class="tsd-kind-method">CoreCrypto.init</a> when you have a clientId. It initializes MLS.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">clientId</span>: <a href="ClientId.html" class="tsd-signature-type tsd-kind-class">ClientId</a></span><div class="tsd-comment tsd-typography"><p>required</p>
</div></li><li><span><span class="tsd-kind-parameter">ciphersuites</span>: <a href="../enums/Ciphersuite.html" class="tsd-signature-type tsd-kind-enum">Ciphersuite</a><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>All the ciphersuites supported by this MLS client</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L81">src/CoreCryptoContext.ts:81</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="processwelcomemessage"><span>process<wbr/>Welcome<wbr/>Message</span><a href="#processwelcomemessage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="processwelcomemessage-1"><span class="tsd-kind-call-signature">processWelcomeMessage</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">welcomeMessage</span><span class="tsd-signature-symbol">:</span> <a href="Welcome.html" class="tsd-signature-type tsd-kind-class">Welcome</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/WelcomeBundle.html" class="tsd-signature-type tsd-kind-type-alias">WelcomeBundle</a><span class="tsd-signature-symbol">&gt;</span><a href="#processwelcomemessage-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Ingest an MLS welcome message to join an existing MLS group</p>
<p>In case the orphan welcome message error occurs, ignore it and then join this group via
<a href="#joinbyexternalcommit" class="tsd-kind-method">CoreCryptoContext.joinByExternalCommit</a>.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">welcomeMessage</span>: <a href="Welcome.html" class="tsd-signature-type tsd-kind-class">Welcome</a></span><div class="tsd-comment tsd-typography"><p>TLS-serialized MLS Welcome message</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/WelcomeBundle.html" class="tsd-signature-type tsd-kind-type-alias">WelcomeBundle</a><span class="tsd-signature-symbol">&gt;</span></h4><p>The conversation ID of the newly joined group. You can use the same ID to decrypt/encrypt messages</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L246">src/CoreCryptoContext.ts:246</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="proteusdecrypt"><span>proteus<wbr/>Decrypt</span><a href="#proteusdecrypt" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="proteusdecrypt-1"><span class="tsd-kind-call-signature">proteusDecrypt</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">sessionId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">ciphertext</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">&gt;</span><a href="#proteusdecrypt-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Decrypt an incoming message for an existing Proteus session</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">sessionId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>ID of the Proteus session</p>
</div></li><li><span><span class="tsd-kind-parameter">ciphertext</span>: <span class="tsd-signature-type">ArrayBuffer</span></span><div class="tsd-comment tsd-typography"><p>CBOR encoded, encrypted proteus message</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">&gt;</span></h4><p>The decrypted payload contained within the message</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L518">src/CoreCryptoContext.ts:518</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="proteusencrypt"><span>proteus<wbr/>Encrypt</span><a href="#proteusencrypt" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="proteusencrypt-1"><span class="tsd-kind-call-signature">proteusEncrypt</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">sessionId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">plaintext</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">&gt;</span><a href="#proteusencrypt-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Encrypt a message for a given Proteus session</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">sessionId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>ID of the Proteus session</p>
</div></li><li><span><span class="tsd-kind-parameter">plaintext</span>: <span class="tsd-signature-type">ArrayBuffer</span></span><div class="tsd-comment tsd-typography"><p>payload to encrypt</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">&gt;</span></h4><p>The CBOR-serialized encrypted message</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L534">src/CoreCryptoContext.ts:534</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="proteusencryptbatched"><span>proteus<wbr/>Encrypt<wbr/>Batched</span><a href="#proteusencryptbatched" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="proteusencryptbatched-1"><span class="tsd-kind-call-signature">proteusEncryptBatched</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">sessions</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">plaintext</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Map</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="#proteusencryptbatched-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Batch encryption for proteus messages
This is used to minimize FFI roundtrips when used in the context of a multi-client session (i.e. conversation)</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">sessions</span>: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>List of Proteus session IDs to encrypt the message for</p>
</div></li><li><span><span class="tsd-kind-parameter">plaintext</span>: <span class="tsd-signature-type">ArrayBuffer</span></span><div class="tsd-comment tsd-typography"><p>payload to encrypt</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Map</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><p>A map indexed by each session ID and the corresponding CBOR-serialized encrypted message for this session</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L551">src/CoreCryptoContext.ts:551</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="proteusfingerprint"><span>proteus<wbr/>Fingerprint</span><a href="#proteusfingerprint" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="proteusfingerprint-1"><span class="tsd-kind-call-signature">proteusFingerprint</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><a href="#proteusfingerprint-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Proteus public key fingerprint
It's basically the public key encoded as an hex string</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Hex-encoded public key string</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L600">src/CoreCryptoContext.ts:600</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="proteusfingerprintlocal"><span>proteus<wbr/>Fingerprint<wbr/>Local</span><a href="#proteusfingerprintlocal" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="proteusfingerprintlocal-1"><span class="tsd-kind-call-signature">proteusFingerprintLocal</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">sessionId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><a href="#proteusfingerprintlocal-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Proteus session local fingerprint</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">sessionId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>ID of the Proteus session</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Hex-encoded public key string</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L612">src/CoreCryptoContext.ts:612</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="proteusfingerprintremote"><span>proteus<wbr/>Fingerprint<wbr/>Remote</span><a href="#proteusfingerprintremote" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="proteusfingerprintremote-1"><span class="tsd-kind-call-signature">proteusFingerprintRemote</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">sessionId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><a href="#proteusfingerprintremote-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Proteus session remote fingerprint</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">sessionId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>ID of the Proteus session</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Hex-encoded public key string</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L624">src/CoreCryptoContext.ts:624</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="proteusinit"><span>proteus<wbr/>Init</span><a href="#proteusinit" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="proteusinit-1"><span class="tsd-kind-call-signature">proteusInit</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#proteusinit-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Initializes the proteus client</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L437">src/CoreCryptoContext.ts:437</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="proteuslastresortprekey"><span>proteus<wbr/>Last<wbr/>Resort<wbr/>Prekey</span><a href="#proteuslastresortprekey" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="proteuslastresortprekey-1"><span class="tsd-kind-call-signature">proteusLastResortPrekey</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">&gt;</span><a href="#proteuslastresortprekey-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Proteus last resort prekey stuff</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">&gt;</span></h4><p>A CBOR-serialize version of the PreKeyBundle associated with the last resort PreKey (holding the last resort prekey id)</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L588">src/CoreCryptoContext.ts:588</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="proteusnewprekey"><span>proteus<wbr/>New<wbr/>Prekey</span><a href="#proteusnewprekey" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="proteusnewprekey-1"><span class="tsd-kind-call-signature">proteusNewPrekey</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">prekeyId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">&gt;</span><a href="#proteusnewprekey-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Creates a new prekey with the requested ID.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">prekeyId</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>ID of the PreKey to generate. This cannot be bigger than a u16
@returns: A CBOR-serialized version of the PreKeyBundle corresponding to the newly generated and stored PreKey</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L566">src/CoreCryptoContext.ts:566</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="proteusnewprekeyauto"><span>proteus<wbr/>New<wbr/>Prekey<wbr/>Auto</span><a href="#proteusnewprekeyauto" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="proteusnewprekeyauto-1"><span class="tsd-kind-call-signature">proteusNewPrekeyAuto</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/ProteusAutoPrekeyBundle.html" class="tsd-signature-type tsd-kind-type-alias">ProteusAutoPrekeyBundle</a><span class="tsd-signature-symbol">&gt;</span><a href="#proteusnewprekeyauto-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Creates a new prekey with an automatically generated ID..</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/ProteusAutoPrekeyBundle.html" class="tsd-signature-type tsd-kind-type-alias">ProteusAutoPrekeyBundle</a><span class="tsd-signature-symbol">&gt;</span></h4><p>A CBOR-serialized version of the PreKeyBundle corresponding to the newly generated and stored PreKey accompanied by its ID</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L577">src/CoreCryptoContext.ts:577</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="proteussessiondelete"><span>proteus<wbr/>Session<wbr/>Delete</span><a href="#proteussessiondelete" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="proteussessiondelete-1"><span class="tsd-kind-call-signature">proteusSessionDelete</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">sessionId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#proteussessiondelete-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Deletes a session
Note: this also deletes the persisted data within the keystore</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">sessionId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>ID of the Proteus session</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L492">src/CoreCryptoContext.ts:492</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="proteussessionexists"><span>proteus<wbr/>Session<wbr/>Exists</span><a href="#proteussessionexists" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="proteussessionexists-1"><span class="tsd-kind-call-signature">proteusSessionExists</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">sessionId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span><a href="#proteussessionexists-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Checks if a session exists</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">sessionId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>ID of the Proteus session</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4><p>whether the session exists or not</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L505">src/CoreCryptoContext.ts:505</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="proteussessionfrommessage"><span>proteus<wbr/>Session<wbr/>From<wbr/>Message</span><a href="#proteussessionfrommessage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="proteussessionfrommessage-1"><span class="tsd-kind-call-signature">proteusSessionFromMessage</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">sessionId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">envelope</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">&gt;</span><a href="#proteussessionfrommessage-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Create a Proteus session from a handshake message</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">sessionId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>ID of the Proteus session</p>
</div></li><li><span><span class="tsd-kind-parameter">envelope</span>: <span class="tsd-signature-type">ArrayBuffer</span></span><div class="tsd-comment tsd-typography"><p>CBOR-encoded Proteus message</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">&gt;</span></h4><p>A <code>ArrayBuffer</code> containing the message that was sent along with the session handshake</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L464">src/CoreCryptoContext.ts:464</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="proteussessionfromprekey"><span>proteus<wbr/>Session<wbr/>From<wbr/>Prekey</span><a href="#proteussessionfromprekey" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="proteussessionfromprekey-1"><span class="tsd-kind-call-signature">proteusSessionFromPrekey</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">sessionId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">prekey</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#proteussessionfromprekey-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Create a Proteus session using a prekey</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">sessionId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>ID of the Proteus session</p>
</div></li><li><span><span class="tsd-kind-parameter">prekey</span>: <span class="tsd-signature-type">ArrayBuffer</span></span><div class="tsd-comment tsd-typography"><p>CBOR-encoded Proteus prekey of the other client</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L447">src/CoreCryptoContext.ts:447</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="proteussessionsave"><span>proteus<wbr/>Session<wbr/>Save</span><a href="#proteussessionsave" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="proteussessionsave-1"><span class="tsd-kind-call-signature">proteusSessionSave</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">sessionId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#proteussessionsave-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Locally persists a session to the keystore</p>
<p><strong>Note</strong>: This isn't usually needed as persisting sessions happens automatically when decrypting/encrypting messages and initializing Sessions</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">sessionId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>ID of the Proteus session</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L480">src/CoreCryptoContext.ts:480</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="randombytes"><span>random<wbr/>Bytes</span><a href="#randombytes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="randombytes-1"><span class="tsd-kind-call-signature">randomBytes</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">length</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">&gt;</span><a href="#randombytes-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Allows <a href="#" class="tsd-kind-class">CoreCryptoContext</a> to act as a CSPRNG provider</p>
<p>The underlying CSPRNG algorithm is ChaCha20 and takes in account the external seed provider.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">length</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>The number of bytes to be returned in the <code>ArrayBuffer</code></p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">&gt;</span></h4><p>A <code>ArrayBuffer</code> buffer that contains <code>length</code> cryptographically-secure random bytes</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L430">src/CoreCryptoContext.ts:430</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="removeclientsfromconversation"><span>remove<wbr/>Clients<wbr/>From<wbr/>Conversation</span><a href="#removeclientsfromconversation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="removeclientsfromconversation-1"><span class="tsd-kind-call-signature">removeClientsFromConversation</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">conversationId</span><span class="tsd-signature-symbol">:</span> <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">clientIds</span><span class="tsd-signature-symbol">:</span> <a href="ClientId.html" class="tsd-signature-type tsd-kind-class">ClientId</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#removeclientsfromconversation-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Removes the provided clients from a conversation; Assuming those clients exist and the current client is allowed
to do so, otherwise this operation does nothing.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">conversationId</span>: <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a></span><div class="tsd-comment tsd-typography"><p>The ID of the conversation</p>
</div></li><li><span><span class="tsd-kind-parameter">clientIds</span>: <a href="ClientId.html" class="tsd-signature-type tsd-kind-class">ClientId</a><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>Array of Client IDs to remove.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L297">src/CoreCryptoContext.ts:297</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="removecredential"><span>remove<wbr/>Credential</span><a href="#removecredential" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="removecredential-1"><span class="tsd-kind-call-signature">removeCredential</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">credentialRef</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/CredentialRefInterface.html" class="tsd-signature-type tsd-kind-interface">CredentialRefInterface</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#removecredential-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Remove a credential from this instance.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">credentialRef</span>: <a href="../interfaces/CredentialRefInterface.html" class="tsd-signature-type tsd-kind-interface">CredentialRefInterface</a></span><div class="tsd-comment tsd-typography"><p>a reference to the credential to be removed</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L950">src/CoreCryptoContext.ts:950</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="removekeypackage"><span>remove<wbr/>Keypackage</span><a href="#removekeypackage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="removekeypackage-1"><span class="tsd-kind-call-signature">removeKeypackage</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">kpRef</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/KeypackageRefInterface.html" class="tsd-signature-type tsd-kind-interface">KeypackageRefInterface</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#removekeypackage-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Remove a <code>KeyPackage</code> from the database.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">kpRef</span>: <a href="../interfaces/KeypackageRefInterface.html" class="tsd-signature-type tsd-kind-interface">KeypackageRefInterface</a></span><div class="tsd-comment tsd-typography"><p>references the keypackage to be removed.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L1012">src/CoreCryptoContext.ts:1012</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="removekeypackagesfor"><span>remove<wbr/>Keypackages<wbr/>For</span><a href="#removekeypackagesfor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="removekeypackagesfor-1"><span class="tsd-kind-call-signature">removeKeypackagesFor</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">credentialRef</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/CredentialRefInterface.html" class="tsd-signature-type tsd-kind-interface">CredentialRefInterface</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#removekeypackagesfor-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Remove all <code>KeyPackage</code>s associated with this credential ref.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">credentialRef</span>: <a href="../interfaces/CredentialRefInterface.html" class="tsd-signature-type tsd-kind-interface">CredentialRefInterface</a></span><div class="tsd-comment tsd-typography"><p>references the credential for which all keypackages should be removed.</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L1023">src/CoreCryptoContext.ts:1023</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="savex509credential"><span>save<wbr/>X509<wbr/>Credential</span><a href="#savex509credential" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="savex509credential-1"><span class="tsd-kind-call-signature">saveX509Credential</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">enrollment</span><span class="tsd-signature-symbol">:</span> <a href="E2eiEnrollment.html" class="tsd-signature-type tsd-kind-class">E2eiEnrollment</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">certificateChain</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/NewCrlDistributionPoints.html" class="tsd-signature-type tsd-kind-type-alias">NewCrlDistributionPoints</a><span class="tsd-signature-symbol">&gt;</span><a href="#savex509credential-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Saves a new X509 credential. Requires first
having enrolled a new X509 certificate with either <a href="#e2einewactivationenrollment" class="tsd-kind-method">CoreCryptoContext.e2eiNewActivationEnrollment</a>
or <a href="#e2einewrotateenrollment" class="tsd-kind-method">CoreCryptoContext.e2eiNewRotateEnrollment</a></p>
<h1 id="expected-actions-to-perform-after-this-function-in-this-order" class="tsd-anchor-link">Expected actions to perform after this function (in this order)<a href="#expected-actions-to-perform-after-this-function-in-this-order" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><ol>
<li>Rotate credentials for each conversation using <a href="#e2eirotate" class="tsd-kind-method">CoreCryptoContext.e2eiRotate</a></li>
<li>Generate new key packages with <a href="#generatekeypackage" class="tsd-kind-method">CoreCryptoContext.generateKeypackage</a></li>
<li>Use these to replace the stale ones the in the backend</li>
<li>Delete the stale ones locally.
<ul>
<li>This is the last step because you might still need the old key packages to avoid
an orphan welcome message</li>
</ul>
</li>
</ol>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">enrollment</span>: <a href="E2eiEnrollment.html" class="tsd-signature-type tsd-kind-class">E2eiEnrollment</a></span><div class="tsd-comment tsd-typography"><p>the enrollment instance used to fetch the certificates</p>
</div></li><li><span><span class="tsd-kind-parameter">certificateChain</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>the raw response from ACME server</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/NewCrlDistributionPoints.html" class="tsd-signature-type tsd-kind-type-alias">NewCrlDistributionPoints</a><span class="tsd-signature-symbol">&gt;</span></h4><p>Potentially a list of new crl distribution points discovered in the certificate chain</p>
<aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L830">src/CoreCryptoContext.ts:830</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="setdata"><span>set<wbr/>Data</span><a href="#setdata" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="setdata-1"><span class="tsd-kind-call-signature">setData</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">ArrayBuffer</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#setdata-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Set arbitrary data to be retrieved by <a href="#getdata" class="tsd-kind-method">getData</a>.
This is meant to be used as a check point at the end of a transaction.
The data should be limited to a reasonable size.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">ArrayBuffer</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L63">src/CoreCryptoContext.ts:63</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="updatekeyingmaterial"><span>update<wbr/>Keying<wbr/>Material</span><a href="#updatekeyingmaterial" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="updatekeyingmaterial-1"><span class="tsd-kind-call-signature">updateKeyingMaterial</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">conversationId</span><span class="tsd-signature-symbol">:</span> <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#updatekeyingmaterial-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Update the keying material of the conversation.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">conversationId</span>: <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a></span><div class="tsd-comment tsd-typography"><p>The ID of the conversation</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L311">src/CoreCryptoContext.ts:311</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="wipeconversation"><span>wipe<wbr/>Conversation</span><a href="#wipeconversation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="wipeconversation-1"><span class="tsd-kind-call-signature">wipeConversation</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">conversationId</span><span class="tsd-signature-symbol">:</span> <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#wipeconversation-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Wipes and destroys the local storage of a given conversation / MLS group</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">conversationId</span>: <a href="ConversationId.html" class="tsd-signature-type tsd-kind-class">ConversationId</a></span><div class="tsd-comment tsd-typography"><p>The ID of the conversation to remove</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/wireapp/core-crypto/blob/39a169810fb1e5c5692c2196debc7482d20bda55/crypto-ffi/bindings/js/src/CoreCryptoContext.ts#L166">src/CoreCryptoContext.ts:166</a></li></ul></aside></div></li></ul></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Methods</summary><div><a href="#addclientstoconversation"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>add<wbr/>Clients<wbr/>To<wbr/>Conversation</span></a><a href="#addcredential"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>add<wbr/>Credential</span></a><a href="#clientpublickey"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>client<wbr/>Public<wbr/>Key</span></a><a href="#commitpendingproposals"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>commit<wbr/>Pending<wbr/>Proposals</span></a><a href="#conversationciphersuite"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>conversation<wbr/>Ciphersuite</span></a><a href="#conversationepoch"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>conversation<wbr/>Epoch</span></a><a href="#conversationexists"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>conversation<wbr/>Exists</span></a><a href="#createconversation"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>Conversation</span></a><a href="#decryptmessage"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>decrypt<wbr/>Message</span></a><a href="#disablehistorysharing"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>disable<wbr/>History<wbr/>Sharing</span></a><a href="#e2eiconversationstate"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>Conversation<wbr/>State</span></a><a href="#e2eienrollmentstash"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>Enrollment<wbr/>Stash</span></a><a href="#e2eienrollmentstashpop"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>Enrollment<wbr/>Stash<wbr/>Pop</span></a><a href="#e2eiisenabled"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>Is<wbr/>Enabled</span></a><a href="#e2eiispkienvsetup"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>Is<wbr/>PKI<wbr/>Env<wbr/>Setup</span></a><a href="#e2eimlsinitonly"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>Mls<wbr/>Init<wbr/>Only</span></a><a href="#e2einewactivationenrollment"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>New<wbr/>Activation<wbr/>Enrollment</span></a><a href="#e2einewenrollment"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>New<wbr/>Enrollment</span></a><a href="#e2einewrotateenrollment"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>New<wbr/>Rotate<wbr/>Enrollment</span></a><a href="#e2eiregisteracmeca"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>Register<wbr/>Acme<wbr/>CA</span></a><a href="#e2eiregistercrl"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>Register<wbr/>CRL</span></a><a href="#e2eiregisterintermediateca"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>Register<wbr/>Intermediate<wbr/>CA</span></a><a href="#e2eirotate"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>e2ei<wbr/>Rotate</span></a><a href="#enablehistorysharing"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>enable<wbr/>History<wbr/>Sharing</span></a><a href="#encryptmessage"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>encrypt<wbr/>Message</span></a><a href="#exportsecretkey"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>export<wbr/>Secret<wbr/>Key</span></a><a href="#findcredentials"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>find<wbr/>Credentials</span></a><a href="#generatekeypackage"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>generate<wbr/>Keypackage</span></a><a href="#getclientids"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Client<wbr/>Ids</span></a><a href="#getcredentials"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Credentials</span></a><a href="#getdata"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Data</span></a><a href="#getdeviceidentities"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Device<wbr/>Identities</span></a><a href="#getexternalsender"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>External<wbr/>Sender</span></a><a href="#getkeypackages"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Keypackages</span></a><a href="#getuseridentities"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>User<wbr/>Identities</span></a><a href="#joinbyexternalcommit"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>join<wbr/>By<wbr/>External<wbr/>Commit</span></a><a href="#markconversationaschildof"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>mark<wbr/>Conversation<wbr/>As<wbr/>Child<wbr/>Of</span></a><a href="#mlsinit"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>mls<wbr/>Init</span></a><a href="#processwelcomemessage"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>process<wbr/>Welcome<wbr/>Message</span></a><a href="#proteusdecrypt"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Decrypt</span></a><a href="#proteusencrypt"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Encrypt</span></a><a href="#proteusencryptbatched"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Encrypt<wbr/>Batched</span></a><a href="#proteusfingerprint"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Fingerprint</span></a><a href="#proteusfingerprintlocal"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Fingerprint<wbr/>Local</span></a><a href="#proteusfingerprintremote"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Fingerprint<wbr/>Remote</span></a><a href="#proteusinit"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Init</span></a><a href="#proteuslastresortprekey"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Last<wbr/>Resort<wbr/>Prekey</span></a><a href="#proteusnewprekey"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>New<wbr/>Prekey</span></a><a href="#proteusnewprekeyauto"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>New<wbr/>Prekey<wbr/>Auto</span></a><a href="#proteussessiondelete"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Session<wbr/>Delete</span></a><a href="#proteussessionexists"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Session<wbr/>Exists</span></a><a href="#proteussessionfrommessage"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Session<wbr/>From<wbr/>Message</span></a><a href="#proteussessionfromprekey"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Session<wbr/>From<wbr/>Prekey</span></a><a href="#proteussessionsave"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>proteus<wbr/>Session<wbr/>Save</span></a><a href="#randombytes"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>random<wbr/>Bytes</span></a><a href="#removeclientsfromconversation"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>remove<wbr/>Clients<wbr/>From<wbr/>Conversation</span></a><a href="#removecredential"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>remove<wbr/>Credential</span></a><a href="#removekeypackage"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>remove<wbr/>Keypackage</span></a><a href="#removekeypackagesfor"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>remove<wbr/>Keypackages<wbr/>For</span></a><a href="#savex509credential"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>save<wbr/>X509<wbr/>Credential</span></a><ul><li><a href="#expected-actions-to-perform-after-this-function-in-this-order"><span>Expected actions to perform after this function (in this order)</span></a></li></ul><a href="#setdata"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>set<wbr/>Data</span></a><a href="#updatekeyingmaterial"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>update<wbr/>Keying<wbr/>Material</span></a><a href="#wipeconversation"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>wipe<wbr/>Conversation</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../index.html">@wireapp/core-crypto</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
